{% extends "base.html" %}

{% block content %}
<h1>Додати новий пост</h1>

<form method="POST" action="{{ url_for('posts.add_post') }}">
    {{ form.hidden_tag() }}

    <div>
        {{ form.title.label }}
        {{ form.title(class="form-control") }}
        {% for error in form.title.errors %}
            <span class="error">{{ error }}</span>
        {% endfor %}
    </div>

    <div>
        {{ form.content.label }}
        {{ form.content(class="form-control") }}
        {% for error in form.content.errors %}
            <span class="error">{{ error }}</span>
        {% endfor %}
    </div>

    <div>
        {{ form.is_active.label }}
        {{ form.is_active(class="form-control") }}
        {% for error in form.is_active.errors %}
            <span class="error">{{ error }}</span>
        {% endfor %}
    </div>

    <div>
        {{ form.category.label }}
        {{ form.category(class="form-control") }}
        {% for error in form.category.errors %}
            <span class="error">{{ error }}</span>
        {% endfor %}
    </div>

    <div>
        {{ form.author.label }}
        {{ form.author(class="form-control") }}
        {% for error in form.author.errors %}
            <span class="error">{{ error }}</span>
        {% endfor %}
    </div>

    <div>
        {{ form.posted.label }}
        {{ form.posted(class="form-control") }}
        {% for error in form.posted.errors %}
            <span class="error">{{ error }}</span>
        {% endfor %}
    </div>

    <div>
        {{ form.submit(class="btn btn-primary") }}
    </div>
</form>

<!-- Виведення повідомлень через Flash -->
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <ul>
        {% for category, message in messages %}
            <li class="{{ category }}">{{ message }}</li>
        {% endfor %}
        </ul>
    {% endif %}
{% endwith %}
{% endblock %}
